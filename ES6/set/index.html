<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>

<script>
    /**
     * ES6 提供了新的数据结构 Set。它类似于数组，但是成员的值都是唯一的，没有重复的值。
     * set本身是一个构造函数，用来生成 Set 数据结构
    */

    let s = new Set()

    let arr = [1,2,3,4,5,1,2,5,2,6]

     arr.forEach(x=>s.add(x));

     for(let i of s){
         console.log(i)    //1,2,3,4,5,6  类似数组去重
     }

     //面代码通过add()方法向 Set 结构加入成员，结果表明 Set 结构不会添加重复的值。
    //Set函数可以接受一个数组（或者具有 iterable 接口的其他数据结构）作为参数，用来初始化

    const set = new Set([1,2,3,3,4,4,5])
    console.log([...set])   //[1, 2, 3, 4, 5]

    const items = new Set([1, 2, 3, 4, 5, 5, 5, 5]);
    items.size // 5

    console.log([...new Set('acer4333as123a')].join(''))    // acer43s12


    // 2.Set  实例的属性和方法

    /**
     * Set.prototype.constructor :构造函数,默认是set函数
     * Set.prototype.size: 返回Set实例的成员总数
     * 
     * Set 实例的方法分为两大类：操作方法（用于操作数据）和遍历方法（用于遍历成员）。下面先介绍四个操作方法。
     *  Set.prototype.add(value)：添加某个值，返回 Set 结构本身。
        Set.prototype.delete(value)：删除某个值，返回一个布尔值，表示删除是否成功。
        Set.prototype.has(value)：返回一个布尔值，表示该值是否为Set的成员。
        Set.prototype.clear()：清除所有成员，没有返回值
    */

    let s = new Set()
    s.add(1).add(2).add(2)
    s   //{1, 2}
    s.size  //2  2位成员

    s.has(1) // true
    s.has(2) // true
    s.has(3) // false

    s.delete(2)  //true
    s  // {1}
    s.has(2) // false


     //Array.from 方法可以将Set结构转为数组

     const items = new Set([1,2,3,4,5])
     const array = Array.form(items)

     /**
      * 遍历操作
        Set 结构的实例有四个遍历方法，可以用于遍历成员。
        Set.prototype.keys()：返回键名的遍历器
        Set.prototype.values()：返回键值的遍历器
        Set.prototype.entries()：返回键值对的遍历器
        Set.prototype.forEach()：使用回调函数遍历每个成员
        需要特别指出的是，Set的遍历顺序就是插入顺序。这个特性有时非常有用，
        比如使用 Set 保存一个回调函数列表，调用时就能保证按照添加顺序调用。
     */

     let set = new Set(['red', 'green', 'blue']);
        for (let item of set.keys()) {
        console.log(item);
        }
        // red
        // green
        // blue

        for (let item of set.values()) {
        console.log(item);
        }
        // red
        // green
        // blue

        for (let item of set.entries()) {
        console.log(item);
        }
        // ["red", "red"]
        // ["green", "green"]
        // ["blue", "blue"]


        //数组的map和filter方法也可以间接用于 Set 了。
        let set = new Set([1, 2, 3]);
        set = new Set([...set].map(x => x * 2));
        // 返回Set结构：{2, 4, 6}

        let set = new Set([1, 2, 3, 4, 5]);
        set = new Set([...set].filter(x => (x % 2) == 0));
// 返回Set结构：{2, 4}



        let obj={
            name:'shao',
            get:function(){
                this.name = name
            },
            set:function(val){
                this.name = val
            }
        }

        obj.name
</script>
</html>